language: racket

env:
 - RACKET_VERSION=HEAD

before_install:
 - git clone https://github.com/greghendershott/travis-racket.git
 - cat travis-racket/install-racket.sh | bash
# TODO I feel so bad doing this. Need to work out a way to waste their bandwidth less
 - git clone https://git01.codeplex.com/z3
 - cd z3
 - mkdir ~/my-z3
 - python scripts/mk_make.py --prefix=~/my-z3
 - cd build
 - make
 - make install
 - export PATH=$HOME/my-z3:$PATH

install:

before_script:

script:
 - /usr/racket/bin/raco pkg install
 - cd test
 - /usr/racket/bin/raco test -x main.rkt

after_script: